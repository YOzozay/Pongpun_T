<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-10">

<div class="max-w-4xl mx-auto">
  <h1 class="text-2xl font-bold mb-6">ไทม์ไลน์การผ่อน</h1>
  <div id="installments" class="grid grid-cols-2 gap-4"></div>
</div>

<script>

const API_URL = "https://script.google.com/macros/s/AKfycbz-eKRqJxfRBdAk7BOxVadyoHgR5VAwZUFMvSIZSqP3VrLFhiJbySBucnbNl8yQs8sAXA/exec";

fetch(API_URL)
  .then(res => res.json())
  .then(data => {

    const container = document.getElementById("installments");

    data.forEach(row => {

      const [no, date, amount, status] = row;

      let bg = "bg-gray-100";
      let badge = "";

      if(status === "จ่ายแล้ว"){
        bg = "bg-green-100";
        badge = "✔";
      }

      container.innerHTML += `
        <div class="p-4 rounded-xl ${bg} flex justify-between">
          <div>
            <div class="font-semibold">งวด ${no}</div>
            <div class="text-sm text-gray-500">${date}</div>
            <div class="text-sm">฿${amount}</div>
          </div>
          <div class="text-green-600 text-xl">${badge}</div>
        </div>
      `;
    });

  });

</script>

</body>
</html>
